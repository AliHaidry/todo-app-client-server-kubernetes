(window["webpackJsonptodo-app-k8s"]=window["webpackJsonptodo-app-k8s"]||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(16),s=a.n(r),i=(a(62),a(21)),l=a(8),c=a(9),u=a(11),d=a(10),m=a(12),p=a(3),h=a(55),g=a.n(h).a.create({baseURL:"http://localhost:5000",withCredentials:!0});g.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e.response)}));var f=function(){return g.post("http://localhost:5000/logout").then((function(e){return e.data}))},E=function(e,t){return g.post("/login",{email:e,password:t}).then((function(e){return e.data}))},b=function(e,t,a){return g.post("/signup",{name:e,email:t,password:a}).then((function(e){return e.data}))},v=function(e,t){return g.post("/todo/add",{title:e,description:t}).then((function(e){return e.data}))},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={_id:e};return null!==t&&(n.important=t),null!==a&&(n.done=a),g.patch("/todo/update",n).then((function(e){return e.data}))},y=function(e){return g.delete("/todo/delete",{data:{_id:e}}).then((function(e){return e}))};a(85);function N(e){var t=e.userName,a=e.signout;return o.a.createElement(p.g,null,o.a.createElement(p.b,null,o.a.createElement("span",{className:"todo-welcome"},"Welcome ".concat(t))),o.a.createElement(p.b,null,o.a.createElement("div",{className:"todo-logout"},o.a.createElement("button",{className:"signup",onClick:function(){a()}},"Sign-out"))))}a(86);var S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={title:"",description:"",done:!1,important:!1,titleError:!1,errMessage:""},a.validateInput=function(){return!!a.state.title},a.handleTitleChange=function(e){a.setState({title:e.target.value,titleError:!1})},a.handleDescriptionChange=function(e){a.setState({description:e.target.value})},a.resetInput=function(){a.setState({title:"",description:""})},a.handleAddTodo=function(){a.setState({errMessage:""}),a.validateInput()?v(a.state.title,a.state.description).then((function(e){a.props.addTodo({title:a.state.title,description:a.state.description,important:!1,done:!1,_id:e.todo._id}),a.resetInput()})).catch((function(e){a.setState({errMessage:e.data.message})})):a.setState({titleError:!0})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userName,a=e.signout;return o.a.createElement(p.c,{className:"add-todo-main"},o.a.createElement(N,{userName:t,signout:a}),o.a.createElement(p.g,null,o.a.createElement(p.b,null,o.a.createElement(p.f,{value:this.state.title,onChange:this.handleTitleChange,label:"ToDo Title",background:!0,size:this.state.titleError?"lg inputErrorDiv":"lg",className:this.state.titleError?"inputError":"",maxLength:100}),this.state.titleError&&o.a.createElement("span",{className:"error-text"}," ToDo Title cannot be blank."))),o.a.createElement(p.g,null,o.a.createElement(p.b,null,o.a.createElement(p.f,{value:this.state.description,onChange:this.handleDescriptionChange,type:"textarea",label:"ToDo Description",background:!0,maxLength:250}))),o.a.createElement(p.g,null,o.a.createElement(p.b,{className:"align-right"},o.a.createElement("button",{type:"button",onClick:this.resetInput,className:"btn btn-outline-info-modified waves-effect"},"Reset"),o.a.createElement("button",{type:"button",onClick:this.handleAddTodo,className:"btn btn-outline-info-modified waves-effect"},"Add"))))}}]),t}(n.Component),O=a(17);a(87);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={todos:{columns:[{label:"#",field:"id",sort:"asc"},{label:"Title",field:"title",sort:"asc"},{label:"Description",field:"description",sort:"asc"},{label:"",field:"important",sort:"disabled"},{label:"",field:"done",sort:"disabled"},{label:"",field:"delete",sort:"disabled"}],rows:[],errMessage:""}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.post("/todo/list").then((function(e){return e.data})).then((function(t){e.props.initiateTodo(t)})).catch((function(t){e.setState({errMessage:t.data.message})})),this.setState((function(t){return{todos:j({},t.todos,{rows:e.props.fillTodoRows()})}}))}},{key:"render",value:function(){return o.a.createElement(p.c,{className:"todo-table-main"},this.state.titleError&&o.a.createElement("span",{className:"error-text"}," ToDo Title cannot be blank."),o.a.createElement(p.g,null,o.a.createElement(p.b,null,o.a.createElement(p.d,{striped:!0,bordered:!0,small:!0,btn:!0,data:this.state.todos}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.fillTodoRows();return{todos:j({},t.todos,{rows:a,errMessage:""})}}}]),t}(n.Component),P=a(56),T=a.n(P);function I(){return o.a.createElement(T.a,{type:"Watch",height:100,width:100,className:"pageLoader-main"})}a(107);a(108);function C(){return o.a.createElement(p.c,{className:"header-main glow"},"ToDo App")}var x=a(20),M=a.n(x),R=(a(170),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={email:"aamir@example.com",password:"aamir123",invalidEmail:!1,emptyPassword:!1,loginFailed:!1,errMsg:""},a.handleEmailInput=function(e){a.setState({email:e.target.value,invalidEmail:!1})},a.handlePasswordInput=function(e){a.setState({password:e.target.value,emptyPassword:!1})},a.validate=function(){var e=!1;return M.a.isEmail(a.state.email)?""===a.state.password&&(e="emptyPassword"):e="invalidEmail",e},a.handleSubmit=function(){var e,t=a.validate();t?a.setState(Object(O.a)({},t,!0)):E(a.state.email,a.state.password).then((function(e){a.props.login(e)})).catch((function(t){e=t&&t.status&&400===t.status?"Incorrect username/password, please try again.":"Something went wrong, please try again later.",a.setState({loginFailed:!0,errMsg:e})}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.errMsg,a=this.props.signup;return o.a.createElement(p.c,{className:"login-todo-main"},o.a.createElement(p.g,{className:"align-center"},o.a.createElement(p.b,{md:"6"},o.a.createElement("p",{className:"h5 text-center login-heading"},"Sign in"),o.a.createElement("div",{className:"grey-text"},o.a.createElement(p.f,{label:"Email:",icon:"envelope",group:!0,type:"email",validate:!0,error:"wrong",success:"right",value:this.state.email,onChange:this.handleEmailInput,size:this.state.invalidEmail?"lg inputErrorDiv":"lg",className:this.state.invalidEmail?"inputError":""}),this.state.invalidEmail&&o.a.createElement("span",{className:"signup-error-text"}," Please type valid email address."),o.a.createElement(p.f,{label:"Password: ",icon:"lock",group:!0,type:"password",validate:!0,value:this.state.password,onChange:this.handlePasswordInput,size:this.state.emptyPassword?"lg inputErrorDiv":"lg",className:this.state.emptyPassword?"inputError":""}),this.state.emptyPassword&&o.a.createElement("span",{className:"signup-error-text"},"Password cannot be blank."),this.state.loginFailed&&o.a.createElement("span",{className:"signup-error-text signin-bad-response"}," ",t)),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{onClick:function(){e.handleSubmit()},type:"button",className:"btn Ripple-parent btn btn-outline-info-modified Ripple-parent waves-effect"},"Login"),o.a.createElement("div",null,o.a.createElement("button",{className:"signup",onClick:function(){a()}},"Signup"))))))}}]),t}(n.Component)),L=(a(171),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",email:"",password:"",emptyName:!1,invalidEmail:!1,emptyPassword:!1,signupFailed:!1,errMessage:""},a.handleNameInput=function(e){a.setState({name:e.target.value,emptyName:!1})},a.handleEmailInput=function(e){a.setState({email:e.target.value,invalidEmail:!1})},a.handlePasswordInput=function(e){a.setState({password:e.target.value,emptyPassword:!1})},a.validate=function(){var e=!1;return""===a.state.name.trim()?e="emptyName":M.a.isEmail(a.state.email)?""===a.state.password.trim()&&(e="emptyPassword"):e="invalidEmail",e},a.handleSubmit=function(){var e=a.validate();e?a.setState(Object(O.a)({},e,!0)):b(a.state.name,a.state.email,a.state.password).then((function(e){a.props.signupDone()})).catch((function(e){var t;t=e.data.errmsg?e.data.errmsg:e.data.errors.password?"Invalid Password, must be atleast 7 letters.":e.data.message,a.setState({signupFailed:!0,errMessage:t})}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.backToLogin;return o.a.createElement(p.c,{className:"login-todo-main"},o.a.createElement(p.g,{className:"align-center"},o.a.createElement(p.b,{md:"6"},o.a.createElement("p",{className:"h5 text-center signup-heading"},"Sign up"),o.a.createElement("div",{className:"grey-text"},o.a.createElement(p.f,{label:"Your name",icon:"user",group:!0,type:"text",validate:!0,error:"wrong",success:"right",autoFocus:!0,value:this.state.name,onChange:this.handleNameInput,size:this.state.emptyName?"lg inputErrorDiv":"lg",className:this.state.emptyName?"inputError":""}),this.state.emptyName&&o.a.createElement("span",{className:"signup-error-text"}," Name field cannot be blank."),o.a.createElement(p.f,{label:"Your email",icon:"envelope",group:!0,type:"email",validate:!0,error:"wrong",success:"right",value:this.state.email,onChange:this.handleEmailInput,size:this.state.invalidEmail?"lg inputErrorDiv":"lg",className:this.state.invalidEmail?"inputError":""}),this.state.invalidEmail&&o.a.createElement("span",{className:"signup-error-text"}," Please type valid email address."),o.a.createElement(p.f,{label:"Your password",icon:"lock",group:!0,type:"password",validate:!0,value:this.state.password,onChange:this.handlePasswordInput,size:this.state.emptyPassword?"lg inputErrorDiv":"lg",className:this.state.emptyPassword?"inputError":""}),this.state.emptyPassword&&o.a.createElement("span",{className:"signup-error-text"},"Password cannot be blank."),this.state.signupFailed&&o.a.createElement("span",{className:"signup-error-text signin-bad-response"}," Error: ",this.state.errMessage,", please try again.")),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{type:"button",onClick:function(){e.handleSubmit()},className:"btn Ripple-parent btn btn-outline-info-modified Ripple-parent waves-effect"},"Create User"),o.a.createElement("div",null,o.a.createElement("button",{className:"login-link",onClick:function(){t()}},"Sign-in"))))))}}]),t}(n.Component)),A=(a(172),function(e,t,a,n){return e.map((function(e,r){return{id:r+1,title:e.title,description:e.description,important:o.a.createElement("div",{className:"todoRow"},o.a.createElement(p.h,{placement:"top"},o.a.createElement(p.a,{tag:"a",floating:!0,className:"round-btn",onClick:function(){return t(r,e._id)}},o.a.createElement(p.e,{icon:"star",className:e.important?"filled-yellow":""})),o.a.createElement("div",null,"Mark Important"))),done:o.a.createElement("div",{className:"todoRow"},o.a.createElement(p.h,{placement:"top"},o.a.createElement(p.a,{tag:"a",floating:!0,className:"round-btn",onClick:function(){return a(r,e._id)}},o.a.createElement(p.e,{icon:"check",className:e.done?"filled-yellow":""})),o.a.createElement("div",null,"Done"))),delete:o.a.createElement("div",{className:"todoRow"},o.a.createElement(p.h,{placement:"top"},o.a.createElement(p.a,{tag:"a",floating:!0,className:"round-btn",onClick:function(){return n(r,e._id)}},o.a.createElement(p.e,{icon:"trash-alt"})),o.a.createElement("div",null,"Remove")))}}))}),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={init:!0,loggedInUser:"",token:"",todos:[],signup:!1},a.addTodo=function(e){a.setState((function(t){return{todos:[].concat(Object(i.a)(t.todos),[e])}}))},a.initiateTodo=function(e){a.setState({todos:e})},a.fillTodoRows=function(){return A(a.state.todos,a.handleImportant,a.handleDone,a.handleDelete)},a.toggleSignup=function(){a.setState((function(e){return{signup:!e.signup}}))},a.handleImportant=function(e,t){w(t,!a.state.todos[e].important).then((function(t){a.setState((function(t){var a=t;return a.todos[e].important=!a.todos[e].important,a}))})).catch((function(e){a.setState({errMessage:e})}))},a.handleDone=function(e,t){w(t,null,!a.state.todos[e].done).then((function(t){a.setState((function(t){var a=t;return a.todos[e].done=!a.todos[e].done,a}))})).catch((function(e){a.setState({errMessage:e})}))},a.logout=function(){a.setState({loggedInUser:"",token:""})},a.handleLogin=function(e){a.setState({loggedInUser:e,signup:!1,init:!1})},a.backToLogin=function(){a.setState({signup:!1})},a.handleDelete=function(e,t){y(t).then((function(t){a.setState((function(t){return{todos:[].concat(Object(i.a)(t.todos.splice(0,e)),Object(i.a)(t.todos.splice(1,t.todos.length)))}}))})).catch((function(e){a.setState({errMessage:e})}))},a.handleSignout=function(){f().then((function(e){a.setState({loggedInUser:"",token:"",todos:[],signup:!1})})).catch((function(e){a.setState({errMessage:e})}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.post("/init").then((function(e){return e.data})).then((function(t){e.handleLogin(t)})).catch((function(t){e.setState({init:!1})}))}},{key:"render",value:function(){var e=this.state.loggedInUser?this.state.loggedInUser.user.name:"";return o.a.createElement("div",{className:"app-main"},o.a.createElement(C,null),this.state.init?o.a.createElement(I,null):this.state.signup?o.a.createElement(L,{backToLogin:this.backToLogin,signupDone:this.toggleSignup}):this.state.loggedInUser?o.a.createElement(n.Fragment,null,o.a.createElement(S,{userName:e,addTodo:this.addTodo,signout:this.handleSignout}),o.a.createElement(D,{initiateTodo:this.initiateTodo,todos:this.state.todos,fillTodoRows:this.fillTodoRows,handleImportant:this.handleImportant,handleDone:this.handleDone,deleteTodo:this.handleDelete})):o.a.createElement(R,{login:this.handleLogin,signup:this.toggleSignup}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(173),a(174),a(175);s.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},57:function(e,t,a){e.exports=a(176)},62:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.adeaadbf.chunk.js.map